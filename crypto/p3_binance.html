<!DOCTYPE html>
<!-- 
PAGE DE GARDE
-->
<html>

<head>
	<link rel="stylesheet" href="styles.css">
	<link rel="icon" type="image/x-icon" href="/images/logo.ico">
	<meta name="msapplication-config" content="/images/favicons/rebranded/browserconfig.xml">
	<link rel="manifest" href="/images/favicons/rebranded/manifest.json">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv=“Pragma” content=”no-cache”>
	<meta http-equiv=“Expires” content="Fri, 30 Oct 1998 14:19:41 GMT">
	<meta http-equiv=“CACHE-CONTROL” content="no-cache, must-revalidate">
	<!-- BOOTSTRAT : Many of our components require the use of JavaScript to function. -->
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
		integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
		crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<script src="https://www.gstatic.com/charts/loader.js"></script>
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script>
		// google.charts.load('current', { 'packages': ['corechart'] });
		google.charts.load('current', { 'packages': ['bar'] });
		google.charts.setOnLoadCallback(drawChart);
		// function drawChart() {
		// Use getJSON and process the file contents in the callback function
		// $.getJSON("graphs/ptw_w.json", function (obj) {
		// 	var jsonData = $.ajax({
		// 		url: "graphs/ptw_w.json",
		// 		dataType: "json",
		// 		async: false
		// 	}).responseText;
		// 	// Create our data table out of JSON data loaded from server.
		// 	var data = new google.visualization.DataTable(jsonData);
		// 	var options = {
		// 		title: 'Asset Allocation', pieHole: .6, pieStartAngle: -180,
		// 		slices: {
		// 			0: { offset: 0.05, color: 'grey' }
		// 		},
		// 		backgroundColor: 'black',
		// 		legendTextStyle: { color: '#FFF' },
		// 		titleTextStyle: { color: '#FFF' },
		// 	};
		// 	var chart = new google.visualization.PieChart(document.getElementById('piechart_1'));
		// 	chart.draw(data, options);
		// });
		// // piechart2
		// $.getJSON("graphs/ptw_w_wcash.json", function (obj) {
		// 	var jsonData = $.ajax({
		// 		url: "graphs/ptw_w_wcash.json",
		// 		dataType: "json",
		// 		async: false
		// 	}).responseText;
		// 	// Create our data table out of JSON data loaded from server.
		// 	var data = new google.visualization.DataTable(jsonData);
		// 	var options = {
		// 		title: 'Asset Allocation (w Cash)', pieHole: .6, pieStartAngle: -180,
		// 		backgroundColor: 'black',
		// 		legendTextStyle: { color: '#FFF' },
		// 		titleTextStyle: { color: '#FFF' },
		// 	};
		// 	var chart = new google.visualization.PieChart(document.getElementById('piechart_2'));
		// 	chart.draw(data, options);
		// });
		function drawChart() {
			$.getJSON("graphs/ptw_w_wcash.json", function (obj) {
				var jsonData = $.ajax({
					url: "graphs/ptw_w.json",
					dataType: "json",
					async: false
				}).responseText;
				// Create our data table out of JSON data loaded from server.
				var data = new google.visualization.DataTable(jsonData);
				var options = {
					chart: {
						title: 'Weights Target vs. Current',
						subtitle: 'Target w vs current', backgroundColor: 'black',
					},
					backgroundColor: 'transparent',
					legendTextStyle: { color: 'white' },
					titleTextStyle: { color: 'white' },
				};


				var chart = new google.charts.Bar(document.getElementById('piechart_1'));
				chart.draw(data, google.charts.Bar.convertOptions(options));
			});
		};//drawChart


		google.charts.load('current', { 'packages': ['bar'] });
		google.charts.setOnLoadCallback(drawChart2);
		function drawChart2() {
			$.getJSON("graphs/order_ptw_w_vs_target.json", function (obj) {
				var jsonData = $.ajax({
					url: "graphs/order_ptw_w_vs_target.json",
					dataType: "json",
					async: false
				}).responseText;
				// Create our data table out of JSON data loaded from server.
				var data = new google.visualization.DataTable(jsonData);
				var options = {
					chart: {
						title: 'Weights Target vs. Current',
						subtitle: 'Target w and current weight', backgroundColor: 'black',
					},
					backgroundColor: 'transparent',
					legendTextStyle: { color: 'white' },
					titleTextStyle: { color: 'white' },
				};


				var chart = new google.charts.Bar(document.getElementById('barchart_material'));
				chart.draw(data, google.charts.Bar.convertOptions(options));

			});
		};
		google.charts.load('current', { 'packages': ['bar'] });
		google.charts.setOnLoadCallback(drawChart3);
		function drawChart3() {
			$.getJSON("graphs/order_ptw_w_vs_target_diff.json", function (obj) {
				var jsonData = $.ajax({
					url: "graphs/order_ptw_w_vs_target_diff.json",
					dataType: "json",
					async: false
				}).responseText;
				// Create our data table out of JSON data loaded from server.
				var data = new google.visualization.DataTable(jsonData);
				var options = {
					chart: {
						title: 'To be traded',
						subtitle: 'Targeted adjustment', backgroundColor: 'black',
					},
					backgroundColor: 'transparent',
					legendTextStyle: { color: 'white' },
					titleTextStyle: { color: 'white' },
				};


				var chart = new google.charts.Bar(document.getElementById('barchart_material_2'));
				chart.draw(data, google.charts.Bar.convertOptions(options));

			});
		};
	</script>


	<title>Mozaic Crypto</title>
	<style>
		body {
			background-color: black;
			color: white
		}

		th,
		td {
			color: white;
			font-weight: bold;
			border: 1px solid white;
			padding: 10px;
			text-align: center;
		}

		td {
			font-weight: lighter;
			background-color: rgb(26, 22, 22);
		}

		h3,
		h4 {
			color: rgb(110, 168, 223)
		}
	</style>
</head>

<body>
	<header>
		<header>
			<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-dark">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo03"
					aria-controls="navbarTogglerDemo03" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<a class="navbar-brand  mr-0 mr-md-2" style="color:#eeff02;" style="color:#eeff02;" href="index.html">
					<img src="images/logo.jpg" width="30" height="30" alt="">Mozaic Crypto</a>
				<div class="collapse navbar-collapse" id="navbarTogglerDemo03">
					<ul class="nav nav-tabs mr-auto mt-2 mt-lg-0">
						<!-- <li class="nav-item active">
							<a class="nav-link" href="index.html">A la Une <span class="sr-only">(current)</span></a>
						</li> -->
						<li class="nav-item">
							<a class="nav-link" href="p2.html" style="color:white "><img class="rounded float-left"
									src="images/cryptos.jpg" width="18" height="18">The crypto universe</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="p3_binance.html" style="color:white "><img
									class="rounded float-left" src="images/binance.jpg" width="18" height="18">Binance
								Portfolio</a>
						</li>
						<a class="nav-link" href="p7_about.html" style="color:white;">About</a></li>

					</ul>
				</div>
			</nav>
		</header>

	</header>
	<!--================================================== -->
	<!-- BUBLE MENU. -->
	<div class="container marketing" id="Mark1" style="margin-top:3em;margin-bottom:5em;">
		<!-- Three columns of text below the carousel -->
		<!-- <a href="index.html#mark1">A la une</a><br>
		<a href="index.html#mark2">...mais aussi </a><br>
		<a href="index.html#mark0">Pourquoi ce site? </a><br> -->

		<a href="p3_binance.html"><img class="rounded float-left" src="images/binance.jpg" width="25" height="25"></a>
		<h3 name="mark1" style="color: crimson;">Our portfolio and targeted adjustments</h3>

		<section>
			<h4>Running Batch</h4>
			<!-- TABLE CONSTRUCTION-->
			<table id='table'>
				<!-- HEADING FORMATION -->
				<tr>
					<th>Programme</th>
					<th>Last Data</th>
					<th>Completion time</th>
				</tr>

				<script>
					$(document).ready(function () {
						// FETCHING DATA FROM JSON FILE
						$.getJSON("graphs/script_lastupdate.json",
							function (data) {
								var html_tab = '';
								// ITERATING THROUGH OBJECTS
								$.each(data, function (key, value) {
									html_tab += '<tr><td>' + key + '</td>';
									html_tab += '<td>' + value.lst_date + '</td><td>' + value.lst_update + '</td></tr>';
								});
								//INSERTING ROWS INTO TABLE
								$('#table').append(html_tab);
							});
					});
				</script>
			</table>
		</section>
		<div class="row" style="margin-top: 0.5em">
			<div class="col-lg-12">
				<h4>Current portfolio</br></h4>
				<iframe position="absolute" width="30%" height="200" id="grph2" src="graphs/trade_positions_recap.html"
					style="background-color:white"></iframe>
			</div>
		</div>

		<div class="row" style="margin-top: 0.5em">
			<div class="col-lg-12">
				<h4>Current vs target weights</br></h4>
				<!-- <p>Current vs target weights</p> -->
				<div id="barchart_material" style="height: 500px;width: 90%;"></div>
			</div>
			<div class="col-lg-12">
				<p>To trade</p>
				<div id="barchart_material_2" style="height: 500px;width: 90%;"></div>
			</div>
		</div>

		<div class="col-md-12">
			<h4>Current vs target weights</br></h4>
			<iframe position="absolute" width="80%" height="600" id="grph2" src="graphs/order_order_book.html"
				style="background-color:white"></iframe>
		</div>
		<h4>Current Allocation</h4>
		<div class="row" style="margin-top: 0.5em">
			<div class="col-lg-12">
				<div id="piechart_1" style="height: 400px;"></div>
			</div>
			<!-- <div class="col-lg-5">
				<div id="piechart_2" style="height: 400px;align-items: flex-start;"></div>
			</div> -->
			<div class="col-lg-12">
				<h4>Last Trades recap</br></h4>
				<iframe position="absolute" width="30%" height="200" id="grph2" src="graphs/trade_trades_recap.html"
					style="background-color:white"></iframe>
			</div>

			<div class="col-md-12">
				<h4>Last Trades Details</br></h4>
				<iframe position="absolute" width="80%" height="600" id="grph2" src="graphs/trade_trades_book.html"
					style="background-color:white"></iframe>
			</div>



			<!-- FOOTER -->
			<footer class="container">
				<p class="float-right"><a href="index.html">A la Une</a> <a href="#">Back to top</a></p>
				<!-- <p>&copy; <a href="mailto:s2bmaillard@gmail.com">s2bmaillard@gmail.com</a> &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p> -->
				<p> contact:<a href="mailto:s2bmaillard@gmail.com">s2bmaillard@gmail.com</a><a href="#"></a>
			</footer>



</body>
<script>
	// create à new timestamp 
	var timestamp = new Date().getTime();
	document.getElementById('grph1').src = document.getElementById('grph1').src + "?t=" + timestamp
	document.getElementById('grph2').src = document.getElementById('grph2').src + "?t=" + timestamp
	// document.getElementById('grph3').src = document.getElementById('grph3').src + "?t=" + timestamp
	// // document.getElementById('grph4').src = document.getElementById('grph4').src + "?t=" + timestamp
	// document.getElementById('grph5').src = document.getElementById('grph5').src + "?t=" + timestamp
	// document.getElementById('grph6').src = document.getElementById('grph6').src + "?t=" + timestamp
	// document.getElementById('grph7').src = document.getElementById('grph7').src + "?t=" + timestamp
	// document.getElementById('grph8').src = document.getElementById('grph8').src + "?t=" + timestamp
	// document.getElementById('grph9').src = document.getElementById('grph9').src + "?t=" + timestamp
	// document.getElementById('grph10').src = document.getElementById('grph10').src + "?t=" + timestamp
	// document.getElementById('grph11').src = document.getElementById('grph11').src + "?t=" + timestamp
	// document.getElementById('grph12').src = document.getElementById('grph12').src + "?t=" + timestamp

	var data;
	//window.alert("Santé publique France a publié des données incomplètes et erronées ce soir. Nous les avons contactés. CryptooTracker sera de nouveau à jour dès leur correction.");

</script>

</html>